#:kivy 2.1.0
#:import SettingsToolbar libs.screens.settings_screen.SettingsToolbar

<SettingsScreen>:
    name: 'settings_screen'
    Button:
        text: 'работает'


<SettingsScreenBase@MDRelativeLayout>:
    MDSliverAppbar:
        max_height: '160dp'
        title: 'Settings'
        pin_top: True
        background_color: app.colors['SecondAccentColor']
        toolbar_cls: SettingsToolbar()
        radius: [20]
        MDSliverAppbarHeader:
            MDScreen:
                md_bg_color: app.colors['SecondAccentColor']
                MDBoxLayout:
                    adaptive_height: True
                    orientation: "vertical"
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}
                    spacing: "20dp"
                    MDBoxLayout:
                        size_hint: None, None
                        size: '85dp', '85dp'
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                        FitImage:
                            id: avatar_image
                            source: app.current_avatar_url
                            allow_stretch: True
                            keep_ratio: False
                            radius: [18]
                    MDLabel:
                        id: username_header
                        text: app.current_username
                        halign: "center"
                        adaptive_height: True
        MDSliverAppbarContent:
            id: content
            adaptive_height: True
            orientation: "vertical"
            MDBoxLayout:
                orientation: 'vertical'
                id: op
                size_hint: None, None
                width: min(dp(500), root.width)
                height: sum([i.height for i in self.children])
                pos_hint: {'center_x': 0.5, 'top': 1}
                md_mg_color: (1, 0, 0, 1)

                MDCard:
                    size_hint_y: None
                    height: "150dp"
                    orientation: "vertical"
                    OneLineIconListItem:
                        id: username
                        text: "Изменить профиль"
                        divider: None
                        on_press: app.screen_manager.switch_screen('settings_profile_screen')
                        IconLeftWidget:
                            icon: "account-circle-outline"
                            icon_size: "32sp"
                            ripple_scale: 0
                    OneLineIconListItem:
                        text: "Настройки чатов"
                        divider: None
                        on_press: app.screen_manager.switch_screen('settings_chat_screen')
                        IconLeftWidget:
                            icon: "chat-outline"
                            icon_size: "32sp"
                            ripple_scale: 0
                    OneLineIconListItem:
                        text: "Память"
                        divider: None
                        IconLeftWidget:
                            icon: "folder-download-outline"
                            icon_size: "32sp"
                            ripple_scale: 0
                Widget:
                    size_hint_y: None
                    height: "10dp"
                MDCard:
                    size_hint_y: None
                    height: "50dp"
                    orientation: "vertical"
                    OneLineIconListItem:
                        id: username
                        text: "Справка"
                        divider: None
                        IconLeftWidget:
                            icon: "information-outline"
                            icon_size: "32sp"
                            ripple_scale: 0


<SettingsMobileView>:
    SettingsScreenBase:
        id: base

<SettingsTabletView>:
    SettingsScreenBase:
        id: base

<SettingsDesktopView>:
    SettingsScreenBase:
        id: base

